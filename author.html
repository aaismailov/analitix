<!doctype html>

<html>
	<head>
		<meta charset="UTF-8">
		<title>AnalitixMusic</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		
		<link rel="stylesheet" type="text/css" href="../dist/css/slider-pro.min.css" media="screen"/>
		<link rel="stylesheet" href="./style.css">
		<link rel="stylesheet" href="./styleContacts.css">
		
		
		<script type="text/javascript" src="../libs/jquery-1.11.0.min.js"></script>
		<script type="text/javascript" src="./nav_bar.js"></script>
		<script type="text/javascript" src="../dist/js/jquery.sliderPro.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
	
		
	</head>
	
	<body>
		
		<div class="menu-bar">
			<ul>
				<a href="./home.html">
					<li class="logo">
						<img class="logo-img" src="Logo.jpg"></img>
						<h2 class="logo-txt">Analitix Music</h2>
					</li>
				</a>
			</ul>
			<ul>
				<li><a href="./video.html">ВИДЕО</a></li>
				<li><a href="./reviews.html">РЕЦЕНЗИИ</a>
					<div class="sub-menu-1">
						<ul>
							<li class="hover-me"><a href="#">РОК</a>
								<div class="sub-menu-2">
									<ul>
										<li><a href="./hardrock.html">ХАРД-РОК</a></li>
									<li><a href="#">ХЭВИ-МЕТАЛ</a></li>
									<li><a href="#">ПАНК-РОК</a></li>
									<li><a href="#">ГРАНЖ-РОК</a></li>
									<li><a href="#">ИНДИ-РОК</a></li>
								</ul>
							</div>
						</li>
						<li class="hover-me">
							<a href="./hiphop.html">ХИП-ХОП</a>
							<div class="sub-menu-2">
								<ul>
									<li><a href="#">ГАНГСТА-РЭП</a></li>
									<li><a href="#">ДРИЛЛ</a></li>
									<li><a href="#">ПОП-РЭП</a></li>
									<li><a href="#">ТРЭП</a></li>
									<li><a href="#">ДЖАЗ-РЭП</a></li>
								</ul>
							</div>
						</li>
						<li class="hover-me">
							<a href="./pop.html">ПОП</a>
							<div class="sub-menu-2">
								<ul>
									<li><a href="#">ДАНС-ПОП</a></li>
									<li><a href="#">СИНТИ-ПОП</a></li>
									<li><a href="#">ПРОГРЕССИВНЫЙ</a></li>
									<li><a href="#">K-POP</a></li>
									<li><a href="#">ДИСКО</a></li>
								</ul>
							</div>
						</li>
						<li class="hover-me">
							<a href="#">ОСТАЛЬНЫЕ</a>
							<div class="sub-menu-2">
								<ul>
									<li><a href="./indi.html">ИНДИ</a></li>
									<li><a href="#">ФОЛК</a></li>
									<li><a href="#">ДЖАЗ</a></li>
									<li><a href="#">БЛЮЗ</a></li>
									<li><a href="#">РИТМ-Н-БЛЮЗ</a></li>
									<li><a href="#">ЭЛЕКТРОННАЯ</a></li>
									<li><a href="#">КАНТРИ</a></li>
									</ul>
								</div>
							</li>
						</ul>
					</div>
				</li>
				<li><a href="./author.html">АВТОРСТВО</a></li>
				<li><a href="./contacts.html">КОНТАКТЫ</a></li>
				<li><a href="./about.html">О НАС</a></li>
			</ul>
		</div>
		
		<table class="body-wrap">
			<tr>
						
				<div id="canvas_bg">
					<div id="canvas_container"></div>
				</div>
				
				<td class="container">
					
					<!-- Message start -->
					<table>
						<tr>
							<td class="content">
								<br>
								<h2>Привет, читатель!</h2>
								<br>
								<p align="justify">Тебе понравились статьи и понимаешь, что можешь написать так же?
									Предложи свою рецензию, используя инструмент <a href="https://telegra.ph/"  target="_blank">Telegra.ph</a>,
									отправь ее администрации телеграм-канала <a href="https://t.me/AnalitixMusic" target="_blank">AnalitixMusic</a>
									и получи фидбэк: может и ты станешь следующим автором канала.
								</p>
								
								
							</td>
						</tr>
					</table>
					
				</td>
			</tr>
		</table>
		
		<div class="author_form">
			<div class="container">
				<div class="author__inner">
					<div class="author__auth">
						<h1 class="auth__title">Твоя рецензия</h1>
						<p>Впиши свои данные, чтобы отправить статью</p>
						<div class="alert">Твое сообщение было отправлено.</div>
						<form class="form" id="contactform">
							<label>Имя</label>
							<input type="text" name="name" id="name" placeholder="Your Name"required>
							<label>Email</label>
							<input type="email" name="email" id='email' placeholder="you@example.com"required>
							<label>Статья</label>
							<textarea placeholder="Enter your message here" id="textarea"required></textarea>
							<button type='submit' class="button button__accent">ОТПРАВИТЬ</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		
		<div class="footer">
			<p class="left_footer">Copyright © 2022 Исмаилов Асад</p>
			<div class="right_footer">
				<p>aaismailov@miem.hse.ru</p>
			</div>
		</div>
		
		
		
		
		
		<script type="text/javascript">
			let renderer,
			camera,
			planet,
			moon,
			sphereBg,
			terrainGeometry,
			container = document.getElementById("canvas_container"),
			timeout_Debounce,
			frame = 0,
			cameraDx = 0.05,
			count = 0,
			t = 0;
			
			/*   Lines values  */
			let lineTotal = 1000;
			let linesGeometry = new THREE.BufferGeometry();
			linesGeometry.setAttribute("position", new THREE.BufferAttribute(new Float32Array(6 * lineTotal), 3));
			linesGeometry.setAttribute("velocity", new THREE.BufferAttribute(new Float32Array(2 * lineTotal), 1));
			let l_positionAttr = linesGeometry.getAttribute("position");
			let l_vertex_Array = linesGeometry.getAttribute("position").array;
			let l_velocity_Array = linesGeometry.getAttribute("velocity").array;
			
			
			init();
			animate();
			
			
			function init() {
				scene = new THREE.Scene();
				scene.background = new THREE.Color("#000000");
				scene.fog = new THREE.Fog("#3c1e02", 0.5, 50);
				
				camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 0.01, 1000)
				camera.position.set(0, 1, 32)
				
				pointLight1 = new THREE.PointLight("#ffffff", 1, 0);
				pointLight1.position.set(0, 30, 30);
				scene.add(pointLight1);
				
				renderer = new THREE.WebGLRenderer({
					antialias: true,
					alpha: true
				});
				renderer.setSize(container.clientWidth, container.clientHeight);
				renderer.setPixelRatio(window.devicePixelRatio);
				container.appendChild(renderer.domElement);
				
				const loader = new THREE.TextureLoader();
				
				// Planet
				const texturePlanet = loader.load('https://i.ibb.co/h94JBXy/saturn3-ljge5g.jpg');
				texturePlanet.anisotropy = 16;
				const planetGeometry = new THREE.SphereBufferGeometry(10, 50, 50);
				const planetMaterial = new THREE.MeshLambertMaterial({
					map: texturePlanet,
					fog: false
				});
				planet = new THREE.Mesh(planetGeometry, planetMaterial);
				planet.position.set(0, 8, -30);
				scene.add(planet);
				
				
				//Moon
				const textureMoon = loader.load('https://i.ibb.co/64zn361/moon-ndengb.jpg');
				textureMoon.anisotropy = 16;
				let moonGeometry = new THREE.SphereBufferGeometry(2, 32, 32);
				let moonMaterial = new THREE.MeshPhongMaterial({
					map: textureMoon,
					fog: false
				});
				moon = new THREE.Mesh(moonGeometry, moonMaterial);
				moon.position.set(0, 8, 0);
				scene.add(moon);
				
				
				// Sphere Background 
				const textureSphereBg = loader.load('https://i.ibb.co/JCsHJpp/stars2-qx9prz.jpg');
				textureSphereBg.anisotropy = 16;
				const geometrySphereBg = new THREE.SphereBufferGeometry(150, 32, 32);
				const materialSphereBg = new THREE.MeshBasicMaterial({
					side: THREE.BackSide,
					map: textureSphereBg,
					fog: false
				});
				sphereBg = new THREE.Mesh(geometrySphereBg, materialSphereBg);
				sphereBg.position.set(0, 50, 0);
				scene.add(sphereBg);
				
				
				// Terrain
				const textureTerrain = loader.load();
				textureTerrain.rotation = THREE.MathUtils.degToRad(5);
				terrainGeometry = new THREE.PlaneBufferGeometry(70, 70, 20, 20);
				const terrainMaterial = new THREE.MeshBasicMaterial({
					map: textureTerrain,
					fog: true
				});
				terrain = new THREE.Mesh(terrainGeometry, terrainMaterial);
				terrain.rotation.x = -0.47 * Math.PI;
				terrain.rotation.z = THREE.Math.degToRad(90);
				scene.add(terrain);
				
				let t_vertex_Array = terrainGeometry.getAttribute("position").array;
				terrainGeometry.getAttribute("position").setUsage(THREE.DynamicDrawUsage);
				
				terrainGeometry.setAttribute("myZ", new THREE.BufferAttribute(new Float32Array(t_vertex_Array.length / 3), 1));
				let t_myZ_Array = terrainGeometry.getAttribute("myZ").array;
				
				for (let i = 0; i < t_vertex_Array.length; i++) {
					t_myZ_Array[i] = THREE.MathUtils.randInt(0, 5);
				}
				
				//Terain Lines
				const terrain_line = new THREE.LineSegments(
				terrainGeometry,
				new THREE.LineBasicMaterial({
					color: "#fff",
					fog: false
				})
				);
				terrain_line.rotation.x = -0.47 * Math.PI;
				terrain_line.rotation.z = THREE.Math.degToRad(90);
				scene.add(terrain_line);
				
				
				
				//  Stars
				for (let i = 0; i < lineTotal; i++) {
					let x = THREE.MathUtils.randInt(-100, 100);
					let y = THREE.MathUtils.randInt(10, 40);
					if (x < 7 && x > -7 && y < 20) x += 14;
					let z = THREE.MathUtils.randInt(0, -300);
					
					l_vertex_Array[6 * i + 0] = l_vertex_Array[6 * i + 3] = x;
					l_vertex_Array[6 * i + 1] = l_vertex_Array[6 * i + 4] = y;
					l_vertex_Array[6 * i + 2] = l_vertex_Array[6 * i + 5] = z;
					
					l_velocity_Array[2 * i] = l_velocity_Array[2 * i + 1] = 0;
				}
				let starsMaterial = new THREE.LineBasicMaterial({
					color: "#ffffff",
					transparent: true,
					opacity: 0.5,
					fog: false
				});
				let lines = new THREE.LineSegments(linesGeometry, starsMaterial);
				linesGeometry.getAttribute("position").setUsage(THREE.DynamicDrawUsage);
				scene.add(lines);
			}
			
			
			
			
			function animate() {
				planet.rotation.y += 0.002;
				sphereBg.rotation.x += 0.002;
				sphereBg.rotation.y += 0.002;
				sphereBg.rotation.z += 0.002;
				
				
				// Moon Animation
				moon.rotation.y -= 0.007;
				moon.rotation.x -= 0.007;
				moon.position.x = 15 * Math.cos(t) + 0;
				moon.position.z = 20 * Math.sin(t) - 35;
				t += 0.015;
				
				
				// Terrain Animation  
				let t_vertex_Array = terrainGeometry.getAttribute("position").array;
				let t_myZ_Array = terrainGeometry.getAttribute("myZ").array;
				
				for (let i = 0; i < t_vertex_Array.length; i++) {
					if (i >= 210 && i <= 250) t_vertex_Array[i * 3 + 2] = 0;
					else {
						t_vertex_Array[i * 3 + 2] = Math.sin((i + count * 0.0003)) * (t_myZ_Array[i] - (t_myZ_Array[i] * 0.5));
						count += 0.1;
					}
				}
				
				//   Stars Animation  
				for (let i = 0; i < lineTotal; i++) {
					l_velocity_Array[2 * i] += 0.0049;
					l_velocity_Array[2 * i + 1] += 0.005;
					
					l_vertex_Array[6 * i + 2] += l_velocity_Array[2 * i];
					l_vertex_Array[6 * i + 5] += l_velocity_Array[2 * i + 1];
					
					if (l_vertex_Array[6 * i + 2] > 50) {
						l_vertex_Array[6 * i + 2] = l_vertex_Array[6 * i + 5] = THREE.MathUtils.randInt(-200, 10);
						l_velocity_Array[2 * i] = 0;
						l_velocity_Array[2 * i + 1] = 0;
					}
				}
				
				
				//Camera Movement
				camera.position.x += cameraDx;
				camera.position.y = -1.2 * (1 - Math.abs(frame / 2000 - 0.5) / 0.5);
				camera.lookAt(0, 0, 0);
				frame += 8;
				if (frame > 2000) frame = 0;
				if (camera.position.x > 18) cameraDx = -cameraDx;
				if (camera.position.x < -18) cameraDx = Math.abs(cameraDx);
				
				
				l_positionAttr.needsUpdate = true;
				terrainGeometry.attributes.position.needsUpdate = true;
				renderer.render(scene, camera);
				requestAnimationFrame(animate);
			}
			
			
			
			
			/*     Resize     */
			window.addEventListener("resize", () => {
				clearTimeout(timeout_Debounce);
				timeout_Debounce = setTimeout(onWindowResize, 80);
			});
			function onWindowResize() {
				camera.aspect = container.clientWidth / container.clientHeight;
				camera.updateProjectionMatrix();
				renderer.setSize(container.clientWidth, container.clientHeight);
			}
			
		</script>
		
		
		
		
		
	</body>
</html>
